@{
    ViewBag.Title = "Delete Post";
    Layout = "../Shared/_Layout.cshtml";
}
<script>
    var url = app.service.url + '/Posts/';
    var path = location.pathname;
    var pathParts = path.split('/').filter(Boolean);
    var id = pathParts[2];
    
    app.ajaxRequester.delete(url + id).then(function (data) {
        noty({
            type: 'success',
            text: 'Delete successful.',
            layout: 'center',
            callback: {
                onCloseClick: function () {
                    location.href = '/';
                }
            }
        });
    }, function (err) {
        noty({
            type: 'error',
            text: 'Something went wrong try again later.',
            layout: 'center',
            callback: {
                onCloseClick: function() {
                    history.back();
                }
            }
        });
    });
</script>